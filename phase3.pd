#N canvas 1 79 1585 820 10;
#X obj 234 13 inlet noteList;
#X obj 53 14 inlet start;
#X obj 330 13 inlet durList;
#X obj 425 14 inlet veloList;
#X obj 632 14 inlet nbLoop;
#X obj 315 702 outlet noteList;
#X obj 436 697 outlet durList;
#X obj 541 697 outlet veloList;
#X obj 268 39 list-len;
#X obj 268 62 s \$0-len;
#X obj 672 50 s \$0-nbLoops;
#X obj 131 13 inlet sym-list;
#X obj 141 697 outlet sym-list;
#X obj 47 697 outlet start;
#X obj 348 40 list-accum;
#X obj 348 66 s \$0-loop-length;
#X obj 56 419 t b b;
#X obj 25 565 delay;
#X obj 116 455 r \$0-nbLoops;
#X obj 101 508 * 1;
#X obj 319 158 list-extend;
#X obj 216 160 list-extend;
#X obj 122 138 list-extend;
#X obj 450 153 list-extend;
#X obj 556 106 f;
#X obj 630 78 f;
#X obj 450 217 s \$0-velo-list;
#X obj 122 223 s \$0-sym-list;
#X obj 215 220 s \$0-note-list;
#X obj 315 243 s \$0-dur-list;
#X obj 582 251 r \$0-velo-list;
#X obj 565 231 r \$0-dur-list;
#X obj 548 208 r \$0-note-list;
#X obj 1134 150 r \$0-velo-list;
#X obj 1111 130 r \$0-dur-list;
#X obj 1087 105 r \$0-note-list;
#X obj 1064 81 r \$0-sym-list;
#X obj 529 16 inlet sym-length;
#X obj 568 150 s \$0-sym-length;
#X obj 1158 172 r \$0-sym-length;
#X obj 53 61 t b b b b b b b;
#X obj 131 294 s \$0-generate-bass;
#X obj 948 138 r \$0-generate-bass;
#X obj 413 259 r \$0-start-melo;
#X obj 86 358 s \$0-start-melo;
#X obj 936 197 r \$0-start-bass;
#X obj 71 378 s \$0-start-bass;
#X obj 1066 249 play-melo;
#X obj 486 364 play-melo;
#X obj 1272 342 r \$0-velo-list;
#X obj 1254 322 r \$0-dur-list;
#X obj 1235 298 r \$0-note-list;
#X obj 1217 274 r \$0-sym-list;
#X obj 1291 364 r \$0-sym-length;
#X obj 1139 536 play-melo;
#X obj 116 315 s \$0-generate-fancy-melo;
#X obj 56 260 t b b b b b b;
#X obj 101 336 s \$0-start-fancy-melo;
#X obj 1062 322 r \$0-generate-fancy-melo;
#X obj 1060 426 r \$0-start-fancy-melo;
#X obj 873 19 inlet scale;
#X obj 885 56 s \$0-scale;
#X obj 1312 409 r \$0-scale;
#X obj 777 15 inlet base;
#X obj 777 41 s \$0-base;
#X obj 1309 385 r \$0-base;
#X obj 1199 428 generate-fancy-melo;
#X obj 1041 198 generate-bassline;
#X obj 1150 485 list-map;
#X obj 1220 484 + 12;
#X obj 653 698 outlet sym-length;
#X obj 773 696 outlet nbLoop;
#X obj 293 637 r \$0-note-list;
#X obj 141 641 r \$0-sym-list;
#X obj 436 631 r \$0-dur-list;
#X obj 541 630 r \$0-velo-list;
#X obj 653 650 r \$0-sym-length;
#X obj 773 646 r \$0-nbLoops;
#X obj 872 694 outlet base;
#X obj 959 687 outlet scale;
#X obj 867 634 r \$0-base;
#X obj 975 649 r \$0-scale;
#X obj 101 420 r \$0-loop-length;
#X text 684 322 Pour la melo "fancy" \, generate-fancy-melo applique
a chaques tuples (note dur velo) une fonction "decorate" qui retourne
un trio de listes notes/dur/velo qui aura une duree totale egale a
la duree d'entree. Chacune de ces listes est ajoute a la nouvelle liste
melodique \, ce qui a pour effet d'injecter des variations melodiques
et rythmiques dans la melodie de base pour donner plus de details.
;
#X text 707 488 note: il manque quelques notes a la fin de la melodie
\, je ne sais pas encore pourquoi.;
#X connect 0 0 8 0;
#X connect 0 0 21 1;
#X connect 1 0 40 0;
#X connect 2 0 14 0;
#X connect 2 0 20 1;
#X connect 3 0 23 1;
#X connect 4 0 10 0;
#X connect 4 0 25 1;
#X connect 8 0 9 0;
#X connect 11 0 22 1;
#X connect 14 0 15 0;
#X connect 16 1 17 0;
#X connect 17 0 13 0;
#X connect 18 0 19 1;
#X connect 19 0 17 1;
#X connect 20 0 29 0;
#X connect 21 0 28 0;
#X connect 22 0 27 0;
#X connect 23 0 26 0;
#X connect 24 0 38 0;
#X connect 30 0 48 3;
#X connect 31 0 48 2;
#X connect 32 0 48 1;
#X connect 33 0 67 4;
#X connect 34 0 67 3;
#X connect 35 0 67 2;
#X connect 36 0 67 1;
#X connect 37 0 24 1;
#X connect 39 0 67 5;
#X connect 40 0 56 0;
#X connect 40 1 22 0;
#X connect 40 2 21 0;
#X connect 40 3 20 0;
#X connect 40 4 23 0;
#X connect 40 5 24 0;
#X connect 40 6 25 0;
#X connect 42 0 67 0;
#X connect 43 0 48 0;
#X connect 45 0 47 0;
#X connect 49 0 66 4;
#X connect 50 0 66 3;
#X connect 51 0 66 2;
#X connect 52 0 66 1;
#X connect 53 0 66 5;
#X connect 56 0 16 0;
#X connect 56 1 46 0;
#X connect 56 2 44 0;
#X connect 56 3 57 0;
#X connect 56 4 55 0;
#X connect 56 5 41 0;
#X connect 58 0 66 0;
#X connect 59 0 54 0;
#X connect 60 0 61 0;
#X connect 62 0 66 7;
#X connect 63 0 64 0;
#X connect 65 0 66 6;
#X connect 66 1 68 0;
#X connect 66 2 54 2;
#X connect 66 3 54 3;
#X connect 67 1 47 1;
#X connect 67 2 47 2;
#X connect 67 3 47 3;
#X connect 68 0 54 1;
#X connect 68 1 69 0;
#X connect 69 0 68 1;
#X connect 72 0 5 0;
#X connect 73 0 12 0;
#X connect 74 0 6 0;
#X connect 75 0 7 0;
#X connect 76 0 70 0;
#X connect 77 0 71 0;
#X connect 80 0 78 0;
#X connect 81 0 79 0;
#X connect 82 0 19 0;
